<div class="container mt-3">
  <div class="d-flex justify-content-between mb-3 align-items-center position-relative">

    <div>
      <h1>Report</h1>
    </div>

    <div class="d-flex gap-2 position-absolute top-50 start-50 translate-middle">
      <%= link_to '<i class="fa-solid fa-chevron-left"></i>'.html_safe, reports_path(date: @prev_date), class: "btn btn-outline-secondary rounded d-flex align-items-center #{'disabled' unless @has_prev_sprint}" %>
      <%= link_to 'This Sprint', reports_path(Date.today), class: "btn btn-outline-secondary rounded d-flex align-items-center" %>
      <%= link_to '<i class="fa-solid fa-chevron-right"></i>'.html_safe, reports_path(date: @next_date), class: "btn btn-outline-secondary rounded d-flex align-items-center #{'disabled' unless @has_next_sprint}" %>
    </div>

    <div class="">
      <%= link_to new_holiday_path, class: "btn btn-primary", style: 'border-radius: 10px;' do %>
        <i class="fa-solid fa-file-arrow-down"></i> Download
      <% end %>
    </div>

  </div>

  <br>

  <% if !@report %>
    <div class="d-flex flex-column gap-3 mt-5">
      <div class="text-center">
        <h1>There is currently no Report for <%= @sprint.name %></h1>
        <%= link_to "Create Report", new_report_path(date: @date), class: "btn btn-primary mb-3"  %>
      </div>
    </div>
  <% else %>
    <!DOCTYPE html>
<html lang="en">
<head>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        .container {
            width: 80%;
            margin: auto;
            background-color: white;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .header div {
            font-size: 18px;
        }
        .header .report-period {
            font-weight: bold;
        }
        .section {
            margin-bottom: 20px;
        }
        .section-title {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .comment-box {
            width: 100%;
            height: 150px;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            font-size: 14px;
            resize: none;
        }
        .knowledge-table, .kda-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        .knowledge-table th, .knowledge-table td, .kda-table th, .kda-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .knowledge-table th, .kda-table th {
            background-color: #f2f2f2;
        }
        .flex-container {
            display: flex;
            justify-content: space-between;
        }
        .flex-item {
            width: 48%;
        }
    </style>
</head>
<body>
        <div class="header">
            <div>
                <div><%= current_user.full_name %></div>
                <div><%= current_user.hubs.first.name %> Hub</div>
            </div>
            <div class="report-period">
                <%= @report.sprint.name %> / <%= Date.today.year %>
                <br>
                <%= @report.sprint.start_date.strftime("%d %b") %> - <%= @report.sprint.end_date.strftime("%d %b") %>
            </div>
        <div>
          <%= image_tag "logoreport.png", width: "130", height: "65" %>
        </div>
        </div>

        <div class="section">
            <div class="section-title">General comment</div>
            <textarea class="comment-box">
                <%= @report.general %>
            </textarea>
        </div>

        <div class="section">
            <div class="section-title">Knowledge</div>
            <p>
                To ensure that learners are adequately prepared for their final exams that are following the British Curriculum, every subject will have two stages of mock exams. These mock exams will cover the first 50% and 100% of the course, respectively.
            </p>
            <p>
                The dates for the mock exams will be chosen by the learners based on their course completion goals.
            </p>
            <p>
                In order to take the mock exams, learners must complete certain assignments as determined by the course manager (CM). Once these assignments have been completed, learners may submit a request to take the mock exams.
            </p>
            <p>
                The following table provides more information about the learners' exam series and the expectations for completing the mocks. It is important that learners take the mock exams seriously as they will provide valuable feedback on their progress and highlight areas that may need further attention.
            </p>
        </div>

        <div class="section">
            <div class="section-title">Knowledge Overview</div>
            <table class="knowledge-table">
                <thead>
                    <tr>
                        <th>Subject</th>
                        <th>Current Progress</th>
                        <th>Expected Progress</th>
                        <th>+/-</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Chemistry IGCSE</td>
                        <td>67%</td>
                        <td>56%</td>
                        <td>+11%</td>
                    </tr>
                    <tr>
                        <td>Financial Literacy</td>
                        <td>50%</td>
                        <td>52%</td>
                        <td>+2%</td>
                    </tr>
                    <tr>
                        <td>Biology IGCSE</td>
                        <td>59%</td>
                        <td>50%</td>
                        <td>-9%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="flex-container">
            <div class="flex-item">
                <div class="section-title">Learning Coach Comment</div>
                <textarea class="comment-box"></textarea>
            </div>
            <div class="flex-item">
                <div class="section-title">Learner's Reflection</div>
                <textarea class="comment-box"></textarea>
            </div>
        </div>

        <div class="section">
            <div class="section-title">Skills & Community</div>
            <p>
                The Learner decides with their Learning Coach what their potential goals and targets may be in these three areas. One of the goals for BGA is that Learners explore different activities in all three Pillars. Below is the information on the goals that they have been working on for the last Sprint, and what some of the outcomes have been!
            </p>
            <table class="knowledge-table">
                <thead>
                    <tr>
                        <th>Goal</th>
                        <th>Learner's Reflection</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis.</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce. Sollicitudin tempor id eu nisl nunc mi. Nisi porta lorem mollis aliquam. Nibh mauris cursus mattis molestie a. Feugiat vivamus at augue eget arcu dictum varius duis at. Egestas erat imperdiet sed euismod nisi porta lorem. A diam maecenas sed enim ut sem viverra aliquet. Ac turpis egestas maecenas pharetra convallis posuere morbi. At in tellus integer feugiat scelerisque.</td>
                    </tr>
                    <tr>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis.</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce. Sollicitudin tempor id eu nisl nunc mi. Nisi porta lorem mollis aliquam. Nibh mauris cursus mattis molestie a. Feugiat vivamus at augue eget arcu dictum varius duis at. Egestas erat imperdiet sed euismod nisi porta lorem. A diam maecenas sed enim ut sem viverra aliquet. Ac turpis egestas maecenas pharetra convallis posuere morbi. At in tellus integer feugiat scelerisque.</td>
                    </tr>
                    <tr>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis.</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce. Sollicitudin tempor id eu nisl nunc mi. Nisi porta lorem mollis aliquam. Nibh mauris cursus mattis molestie a. Feugiat vivamus at augue eget arcu dictum varius duis at. Egestas erat imperdiet sed euismod nisi porta lorem. A diam maecenas sed enim ut sem viverra aliquet. Ac turpis egestas maecenas pharetra convallis posuere morbi. At in tellus integer feugiat scelerisque.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <div class="section-title">Key Development Areas</div>
            <p>
                At BGA, we understand that learners may have areas where they require extra assistance and support to become independent learners. Therefore, we have identified Key Development Areas (KDAs) as a means of reflecting on the learner's progress throughout a Sprint.
            </p>
            <p>
                KDAs are the areas in which learners need to improve, and they may vary from one learner to another. By focusing on these KDAs, we aim to help learners become more independent and confident in their learning journey. Through regular assessments and feedback, learners can track their progress in each KDA and work on improving these areas with the help of their Learning Coaches.
            </p>
            <table class="kda-table">
                <thead>
                    <tr>
                        <th>KDA</th>
                        <th>Learner's Reflection</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Self-Directed Learning</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce.</td>
                    </tr>
                    <tr>
                        <td>Initiative</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce.</td>
                    </tr>
                    <tr>
                        <td>Motivation</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce.</td>
                    </tr>
                    <tr>
                        <td>Peer-to-Peer Learning</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce.</td>
                    </tr>
                    <tr>
                        <td>Hub Participation</td>
                        <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Diam vulputate ut pharetra sit. Et malesuada fames ac turpis. Mauris vitae ultricies leo integer malesuada nunc. Imperdiet sed euismod nisi porta lorem mollis aliquam. Volutpat odio facilisis mauris sit. Ut lectus arcu bibendum at. Imperdiet massa tincidunt nunc pulvinar sapien. Egestas quis ipsum suspendisse ultrices gravida dictum fusce.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <div class="section-title">Learning Coach's Rubric</div>
        </div>
        <footer>
            <div style="text-align:center; padding:20px;">
                <div>www.bravegenerationacademy.com</div>
                <div>Soralia Morgado: soralia.morgado@edubga.com | Joseph Cannon: joseph.cannon@edubga.com | Bianca Visser: bianca.visser@edubga.com</div>
            </div>
        </footer>
</body>
</html>




    <div class="d-flex justify-content-center mb-5">
      <%= link_to 'Edit Report', edit_report_path(@report), class: "btn btn-primary", style: 'border-radius: 10px;' %>
    </div>

  <% end %>
</div>
