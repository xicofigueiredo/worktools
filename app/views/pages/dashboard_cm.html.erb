<!-- app/views/pages/hub_selection.html.erb -->
<div class="container mt-5">
  <div class="d-flex justify-content-center">
    <h2>Check Your Subjects Here!</h2>
  </div>
  <br>
  <% @subjects.each_slice(3) do |subjects_slice| %>
    <div class="row"> <!-- Start a new row for every slice of 3 hubs -->
      <% subjects_slice.each do |subject| %>
        <div class="col-md-4 mb-4"> <!-- Each hub takes up 4 columns in a 12-column grid -->
          <%= link_to cm_learners_path(subject_id: subject.id), class: "text-decoration-none" do %>
            <div class="card on-card-hover" style="border-radius: 10px;">
              <div class="card-body">
                <div class="d-flex flex-column align-items-center text-center">
                  <div class="mt-3">
                    <h4><%= subject.name.capitalize %></h4>
                    <p>Learners: <%= @subject_user_counts[subject.id] || 0 %></p>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div> <!-- End the row -->
  <% end %>
</div>
