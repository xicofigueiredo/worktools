<div class="mb-3">
  <h1 class="h4 mb-1"><%= @learner_info.preferred_name.presence || @learner_info.full_name.presence || "Learner ##{@learner_info.id}" %></h1>
  <p class="mb-0 text-muted">
    <strong>Email:</strong>
    <%= @learner_info.institutional_email.presence || @learner_info.personal_email.presence || '-' %>
  </p>
  <p class="mb-0 text-muted">
    <strong>Student #:</strong> <%= @learner_info.student_number.presence || '-' %>
    &nbsp; â€¢ &nbsp;
    <strong>Start Date:</strong> <%= @learner_info.start_date.present? ? @learner_info.start_date.to_s : '-' %>
  </p>
</div>

<table class="table table-sm table-bordered">
  <tbody>
    <% @show_columns.each do |attr| %>
      <tr>
        <th style="width: 240px; vertical-align: top; background:#fafafa;">
          <%= attr.to_s.humanize %>
        </th>
        <td>
          <% value = @learner_info.send(attr) %>
          <% if value.is_a?(TrueClass) %>
            Yes
          <% elsif value.is_a?(FalseClass) %>
            No
          <% elsif value.is_a?(Date) || value.is_a?(Time) || (defined?(ActiveSupport::TimeWithZone) && value.is_a?(ActiveSupport::TimeWithZone)) %>
            <%= value.to_s %>
          <% elsif value.nil? || (value.respond_to?(:empty?) && value.empty?) %>
            <span class="text-muted">-</span>
          <% else %>
            <%= value %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<p class="mt-3">
  <%= link_to 'Back to list', admissions_path, class: 'btn btn-secondary' %>
</p>
